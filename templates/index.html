{% extends "base.html" %}

{% block title %}Im√≥veis Dispon√≠veis{% endblock %}

{% block content %}
<div class="container my-4">

    <!-- Banner de boas-vindas -->
    <div class="welcome-banner text-center p-5 mb-5 shadow-lg rounded-4">
        <h1 class="fw-bold">Seja bem-vindo √† Celo Im√≥veis!</h1>
        <p class="lead fw-bold">Estamos felizes em ajudar voc√™ a realizar o sonho da sua casa pr√≥pria.</p>
        <a href="https://wa.me/5513991985274" target="_blank" class="btn btn-success btn-lg mt-3">Fale conosco via WhatsApp</a>
    </div>

    <!-- Topo: Redes Sociais + V√≠deo -->
    <div class="row mb-5 align-items-center">
        <div class="col-md-7 mb-3 mb-md-0">
            <h2 class="mb-3">Siga-nos nas redes sociais</h2>
            <div class="d-flex overflow-hidden" id="socialTicker" style="gap: 30px;">
                <a href="https://www.facebook.com/share/1T3EbExAaZ/" target="_blank">
                    <img src="{{ url_for('static', filename='icons/facebook.png') }}" alt="Facebook">
                </a>
                <a href="https://www.instagram.com/negao_adilan?igsh=MTZxdmszMXQ2YmMycA==" target="_blank">
                    <img src="{{ url_for('static', filename='icons/instagram.png') }}" alt="Instagram">
                </a>
                <a href="https://wa.me/qr/7ZPJQVIHHFUWF1" target="_blank">
                    <img src="{{ url_for('static', filename='icons/whatsapp.png') }}" alt="WhatsApp">
                </a>
            </div>
        </div>

        <div class="col-md-5">
            <h2 class="mb-3">Um pouco de Mongagu√°</h2>
            <div class="ratio ratio-16x9 video-card">
                <iframe src="https://www.youtube.com/embed/sP1Y_4Qm7F0?si=VQymXvum53r8EBJq" title="Sobre Mim" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <!-- Im√≥veis Dispon√≠veis -->
    <h2 class="mb-4">Nossos Im√≥veis</h2>
    <div class="row g-4">
        {% for imovel in imoveis %}
        <div class="col-lg-4 col-md-6">
            <div class="card card-hover shadow-sm h-100 border-0">
                {% set fotos = imovel['fotos'].split(',') if imovel['fotos'] else [] %}
                {% if fotos %}
                    <img src="{{ url_for('static', filename='uploads/' + fotos[0]) }}" 
                         class="card-img-top" alt="Foto do im√≥vel">
                {% else %}
                    <img src="{{ url_for('static', filename='no-image.jpg') }}" 
                         class="card-img-top" alt="Sem foto">
                {% endif %}
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">{{ imovel['titulo'] }}</h5>
                    <p class="text-success fw-bold">{{ imovel['preco'] }}</p>
                    <div class="d-flex flex-wrap small text-muted mb-2">
                        <span class="me-3">üõè {{ imovel['dormitorios'] }} dorms</span>
                        <span class="me-3">üõÅ {{ imovel['banheiros'] }} banhs</span>
                        <span class="me-3">üöó {{ imovel['vagas'] }} vagas</span>
                        <span class="me-3">üìê {{ imovel['area'] }} m¬≤</span>
                    </div>
                    {% if imovel['destaque'] %}
                        <span class="badge bg-warning text-dark mb-2">‚≠ê Destaque</span>
                    {% endif %}
                    <a href="{{ url_for('detalhes', id=imovel['id']) }}" class="btn btn-primary btn-sm mt-auto w-100">Ver detalhes</a>
                    <a href="https://wa.me/5513991985274" target="_blank" class="btn btn-success btn-sm mt-2 w-100">Fale via WhatsApp</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<script>
const ticker = document.getElementById('socialTicker');
let scrollPos = 0;
function moveTicker() {
    if(ticker) {
        scrollPos += 1;
        if(scrollPos >= ticker.scrollWidth / 2) scrollPos = 0;
        ticker.scrollTo({ left: scrollPos, behavior: 'smooth' });
        requestAnimationFrame(moveTicker);
    }
}
moveTicker();
</script>
{% endblock %}



